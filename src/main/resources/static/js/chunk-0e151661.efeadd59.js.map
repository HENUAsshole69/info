{"version":3,"sources":["webpack:///./src/client/StaticPageClient.ts","webpack:///./src/views/StaticViewer.vue?4d70","webpack:///./src/views/StaticViewer.vue?8f66","webpack:///src/views/StaticViewer.vue","webpack:///./src/views/StaticViewer.vue?7e3b","webpack:///./src/views/StaticViewer.vue"],"names":["StaticPageClient","article","title","post","headers","id","get","responseType","data","delete","put","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","directives","name","rawName","value","expression","_v","_s","obj","loading","staticStyle","key","content","ref","staticRenderFns","$emit","component"],"mappings":"kNAIaA,EAAb,6GACqBC,EAAiBC,GAC9B,OAAO,OAAcC,KAAK,gBAAgBD,EAAMD,EAAQ,CACpDG,QAAS,CAAE,eAAgB,kBAHvC,+FAM+BC,GAN/B,iGAOqB,OAAcC,IAAI,gBAAgBD,EAAG,CAAEE,aAAc,SAP1E,+OAUkCF,GAVlC,iGAWsB,OAAcC,IAAI,gBAAgBD,EAAG,OAAO,IAXlE,uCAWyEG,MAXzE,oMAa+BH,GAb/B,iGAcqB,OAAcI,OAAO,gBAAgBJ,EAAG,IAd7D,sVAiBsB,OAAcC,IAAI,oBAAoB,IAjB5D,uCAiBmEE,MAjBnE,sIAmBuBP,EAAiBI,GAChC,OAAO,OAAcK,IAAI,gBAAgBL,EAAGJ,EAAQ,CAChDG,QAAS,CAAE,eAAgB,kBArBvC,yFAwByBC,GAxBzB,iGAyBqB,OAAcK,IAAI,gBAAgBL,EAAG,YAzB1D,qJ,6DCJA,yBAA2e,EAAG,G,yCCA9e,IAAIM,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,QAAQ,CAACA,EAAG,cAAc,CAACA,EAAG,QAAQ,CAACE,YAAY,yBAAyB,CAACF,EAAG,QAAQ,CAACG,MAAM,CAAC,GAAK,KAAK,GAAK,IAAI,GAAK,OAAO,CAACH,EAAG,SAAS,CAACA,EAAG,oBAAoB,CAACI,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASC,MAAOX,EAAW,QAAEY,WAAW,YAAYL,MAAM,CAAC,cAAgB,GAAG,MAAQ,UAAUH,EAAG,eAAe,CAACE,YAAY,wBAAwB,CAACN,EAAIa,GAAGb,EAAIc,GAAe,OAAZd,EAAIe,IAAaf,EAAIe,IAAIzB,MAAM,OAAOc,EAAG,YAAY,CAACI,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASC,OAAQX,EAAIgB,QAASJ,WAAW,eAAeR,EAAG,cAAc,CAACa,YAAY,CAAC,mBAAmB,UAAU,CAACb,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACA,EAAG,MAAM,CAACc,IAAIlB,EAAImB,QAAQC,IAAI,SAASH,YAAY,CAAC,OAAS,aAAa,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAC/xBI,EAAkB,G,iFCkCtB,GACE,KAAF,eACE,WAAF,CAAI,MAAJ,QACE,MAAF,CACI,GAAJ,QAEE,KAAF,WAAI,MAAJ,CACM,aAAN,EACM,IAAN,KACM,SAAN,IAEE,QAXF,WAWI,IAAJ,OAAI,OAAJ,qDAAM,OAAN,qCAAQ,MAAR,sCACA,aADA,SAEA,8BAFA,cAEA,MAFA,QAGA,qBACgB,EAAhB,kBAJA,KAMA,KANA,SAMA,2BANA,mBAMA,eANA,KAMA,UANA,gBAQA,aARA,+CAUE,QArBF,WAsBI,IAAJ,6BACI,EAAJ,0GACI,EAAJ,iBACI,KAAJ,oCACM,mBAAN,qBACM,MAAN,SACM,QAAN,CACQ,SAAR,GAEM,UAAN,IAEI,KAAJ,6CAEE,QAAF,CACI,KAAJ,WAAM,IAAN,uDAAQ,OAAR,qCAAU,MAAV,EAAY,OAAZ,sBACgBpB,KAAKqB,MAAM,SAA3B,0CADA,gDAAM,SAAN,IAAQ,OAAR,wBAAM,OAAN,OCvEsV,I,wBCQlVC,EAAY,eACd,EACAxB,EACAsB,GACA,EACA,KACA,WACA,MAIa,aAAAE,E","file":"js/chunk-0e151661.efeadd59.js","sourcesContent":["import {Article, Type} from \"@/model/Article\";\r\nimport AxiosInstance from \"@/client/AxiosInstance\";\r\nimport {StaticPage} from \"@/model/StaticPage\";\r\n\r\nexport class StaticPageClient {\r\n    static postEntry(article: string, title: string){\r\n        return AxiosInstance.post('/static/page/'+title,article,{\r\n            headers: { 'Content-Type': 'text/plain' }\r\n        })\r\n    }\r\n    static async getStaticPage(id: number){\r\n        return await AxiosInstance.get('/static/page/'+id,{ responseType: 'text' })\r\n    }\r\n\r\n    static async getStaticPageDto(id: number): Promise<StaticPage>{\r\n        return (await AxiosInstance.get('/static/page/'+id+'/dto',{  })).data as StaticPage\r\n    }\r\n    static async delStaticPage(id: number){\r\n        return await AxiosInstance.delete('/static/page/'+id,{  })\r\n    }\r\n    static async getStaticPageDtoList(): Promise<StaticPage[]>{\r\n        return (await AxiosInstance.get('/static/page/list',{  })).data as StaticPage[]\r\n    }\r\n    static updateEntry(article: string, id: number){\r\n        return AxiosInstance.put('/static/page/'+id,article,{\r\n            headers: { 'Content-Type': 'text/plain' }\r\n        })\r\n    }\r\n    static async publish(id: number){\r\n        return await AxiosInstance.put('/static/page/'+id+'/publish')\r\n    }\r\n}\r\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StaticViewer.vue?vue&type=style&index=0&id=4e618612&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StaticViewer.vue?vue&type=style&index=0&id=4e618612&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('Frame',[_c('v-container',[_c('v-row',{staticClass:\"d-flex justify-center\"},[_c('v-col',{attrs:{\"md\":\"10\",\"lg\":\"8\",\"sm\":\"11\"}},[_c('v-card',[_c('v-progress-linear',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.loading),expression:\"loading\"}],attrs:{\"indeterminate\":\"\",\"color\":\"cyan\"}}),_c('v-card-title',{staticClass:\"headline text-center\"},[_vm._v(_vm._s(_vm.obj !== null?_vm.obj.title:''))]),_c('v-divider',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.loading),expression:\"!loading\"}]}),_c('v-container',{staticStyle:{\"background-color\":\"white\"}},[_c('v-row',[_c('v-col',[_c('div',{key:_vm.content,ref:\"editor\",staticStyle:{\"height\":\"100%\"}})])],1)],1)],1)],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div>\r\n        <Frame>\r\n            <v-container>\r\n                <v-row  class=\"d-flex justify-center\">\r\n                    <v-col md=\"10\" lg=\"8\" sm=\"11\">\r\n                        <v-card>\r\n                            <v-progress-linear\r\n                                    v-show=\"loading\"\r\n                                    indeterminate\r\n                                    color=\"cyan\"\r\n                            ></v-progress-linear>\r\n                            <v-card-title class=\"headline text-center\">{{obj !== null?obj.title:''}}</v-card-title>\r\n                            <v-divider v-show=\"!loading\"/>\r\n\r\n                            <v-container style=\"background-color: white\">\r\n                                <v-row>\r\n                                    <v-col>\r\n                                        <div ref=\"editor\" style=\"height: 100%\" :key=\"content\"></div>\r\n                                    </v-col>\r\n                                </v-row>\r\n                            </v-container>\r\n                        </v-card>\r\n                    </v-col>\r\n                </v-row>\r\n            </v-container>\r\n        </Frame>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import {ArticleClient} from \"../client/ArticleClient\";\r\n    import Quill from \"quill\";\r\n    import Frame from \"./Frame\";\r\n    import {StaticPageClient} from \"../client/StaticPageClient\";\r\n    export default {\r\n        name: \"StaticViewer\",\r\n        components: {Frame},\r\n        props:{\r\n            id: String\r\n        },\r\n        data:()=>({\r\n            content: undefined,\r\n            obj:null,\r\n            loading:false\r\n        }),\r\n        async mounted() {\r\n            this.loading = true\r\n            this.obj = await StaticPageClient.getStaticPageDto(this.id)\r\n            if(this.obj.published !== true){\r\n                this.$router.push('/')\r\n            }\r\n            this.content = JSON.stringify((await StaticPageClient.getStaticPage(this.id)).data)\r\n\r\n            this.loading = false\r\n        },\r\n        updated() {\r\n            const Font = Quill.import('formats/font');\r\n            Font.whitelist = ['SimSun', 'SimHei','Microsoft-YaHei','KaiTi','FangSong','Arial','Times-New-Roman','sans-serif'];\r\n            Quill.register(Font, true);\r\n            this.quill = new Quill(this.$refs['editor'], {\r\n                scrollingContainer: this.$refs['editor'],\r\n                theme: 'bubble',\r\n                modules: {\r\n                    \"toolbar\": false\r\n                },\r\n                readOnly: true\r\n            })\r\n            this.quill.setContents(JSON.parse(this.content))\r\n        },\r\n        methods:{\r\n            save:async function () {\r\n                this.$emit('update',JSON.stringify(this.quill.getContents()))\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    @import \"~quill/dist/quill.bubble.css\";\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StaticViewer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StaticViewer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./StaticViewer.vue?vue&type=template&id=4e618612&scoped=true&\"\nimport script from \"./StaticViewer.vue?vue&type=script&lang=js&\"\nexport * from \"./StaticViewer.vue?vue&type=script&lang=js&\"\nimport style0 from \"./StaticViewer.vue?vue&type=style&index=0&id=4e618612&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4e618612\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}