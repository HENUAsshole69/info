(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3c58010e"],{"04d0":function(e,t,i){"use strict";i.r(t);var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("v-toolbar",{attrs:{dark:"",color:"primary"}},[i("v-btn",{attrs:{icon:"",disabled:e.loading,dark:""},on:{click:function(t){return e.$router.go(-1)}}},[i("v-icon",[e._v("mdi-close")])],1),i("v-toolbar-title",[e._v(e._s(null===e.article?"":e.article.title))]),i("v-spacer"),i("v-toolbar-items",[i("v-btn",{attrs:{dark:"",disabled:e.loading,text:""},on:{click:e.save}},[e._v("保存")])],1)],1),i("v-container",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}]},[i("v-row",[i("v-col",[i("div",{ref:"editor",staticStyle:{height:"100%"}})])],1)],1),e.loading?i("div",{staticClass:"center"},[i("v-progress-circular",{staticClass:"center",attrs:{size:50,color:"primary",indeterminate:""}})],1):e._e()],1)},n=[],a=(i("96cf"),i("1da1")),o=i("2966"),s=i("9339"),l=i.n(s),c=i("f318"),d=i.n(c),u=i("2a19"),g={name:"ArticleEdit",props:{id:String},data:function(){return{content:void 0,article:null,loading:!1}},mounted:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(void 0!==e.$refs["editor"]){t.next=2;break}return t.abrupt("return");case 2:return i=l.a.import("formats/font"),i.whitelist=["SimSun","SimHei","Microsoft-YaHei","KaiTi","FangSong","Arial","Times-New-Roman","sans-serif"],l.a.register(i,!0),l.a.register("modules/imageResize",d.a),l.a.register("modules/imageDrop",u["a"]),e.quill=new l.a(e.$refs["editor"],{scrollingContainer:e.$refs["editor"],theme:"snow",modules:{imageDrop:!0,imageResize:{modules:["Resize","DisplaySize","Toolbar"]},toolbar:[[{font:["SimSun","SimHei","Microsoft-YaHei","KaiTi","FangSong","Arial","Times-New-Roman","sans-serif"]},{size:[]}],["bold","italic","underline","strike"],[{color:[]},{background:[]}],[{script:"super"},{script:"sub"}],[{header:"1"},{header:"2"},"blockquote","code-block"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],[{direction:"rtl"},{align:[]}],["link","image","video","formula"],["clean"]]}}),e.loading=!0,t.t0=JSON,t.next=12,o["a"].getArticle(e.id);case 12:return t.t1=t.sent.data,e.content=t.t0.stringify.call(t.t0,t.t1),e.quill.setContents(JSON.parse(e.content)),t.next=17,o["a"].getArticleDto(e.id);case 17:e.article=t.sent,e.loading=!1;case 19:case"end":return t.stop()}}),t)})))()},methods:{save:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.loading=!0,e.next=3,o["a"].updateArticle(JSON.stringify(this.quill.getContents()),this.id);case 3:this.loading=!1,this.$router.go(-1);case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},m=g,v=(i("20cd"),i("2877")),f=Object(v["a"])(m,r,n,!1,null,"2938d735",null);t["default"]=f.exports},"20cd":function(e,t,i){"use strict";var r=i("2d35"),n=i.n(r);n.a},"2d35":function(e,t,i){}}]);
//# sourceMappingURL=chunk-3c58010e.ce2cae73.js.map