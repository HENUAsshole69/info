(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b668fc80"],{"05fe":function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));r("96cf");var n=r("1da1"),a=r("d4ec"),i=r("bee2"),s=r("8d8d"),o=function(){function e(){Object(a["a"])(this,e)}return Object(i["a"])(e,null,[{key:"postEntry",value:function(e,t){return s["a"].post("/static/page/"+t,e,{headers:{"Content-Type":"text/plain"}})}},{key:"getStaticPage",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s["a"].get("/static/page/"+t,{responseType:"text"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getStaticPageDto",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s["a"].get("/static/page/"+t+"/dto",{});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"delStaticPage",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s["a"].delete("/static/page/"+t,{});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getStaticPageDtoList",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s["a"].get("/static/page/list",{});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"updateEntry",value:function(e,t){return s["a"].put("/static/page/"+t,e,{headers:{"Content-Type":"text/plain"}})}},{key:"publish",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s["a"].put("/static/page/"+t+"/publish");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()}]),e}()},"7e22":function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-toolbar",{attrs:{dark:"",color:"primary"}},[r("v-btn",{attrs:{icon:"",disabled:e.loading,dark:""},on:{click:function(t){return e.$router.go(-1)}}},[r("v-icon",[e._v("mdi-close")])],1),r("v-toolbar-title",[e._v(e._s(null===e.article?"":e.article.title))]),r("v-spacer"),r("v-toolbar-items",[r("v-btn",{attrs:{dark:"",disabled:e.loading,text:""},on:{click:e.save}},[e._v("保存")])],1)],1),r("v-container",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}]},[r("v-row",[r("v-col",[r("div",{ref:"editor",staticStyle:{height:"100%"}})])],1)],1),e.loading?r("div",{staticClass:"center"},[r("v-progress-circular",{staticClass:"center",attrs:{size:50,color:"primary",indeterminate:""}})],1):e._e()],1)},a=[],i=(r("96cf"),r("1da1")),s=(r("2966"),r("9339")),o=r.n(s),u=r("05fe"),c=r("f318"),l=r.n(c),d=r("2a19"),p={name:"StaticEdit",props:{id:String},data:function(){return{content:void 0,article:null,loading:!1}},mounted:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(void 0!==e.$refs["editor"]){t.next=2;break}return t.abrupt("return");case 2:return r=o.a.import("formats/font"),r.whitelist=["SimSun","SimHei","Microsoft-YaHei","KaiTi","FangSong","Arial","Times-New-Roman","sans-serif"],o.a.register(r,!0),o.a.register("modules/imageResize",l.a),o.a.register("modules/imageDrop",d["a"]),e.quill=new o.a(e.$refs["editor"],{scrollingContainer:e.$refs["editor"],theme:"snow",modules:{imageDrop:!0,imageResize:{modules:["Resize","DisplaySize","Toolbar"]},toolbar:[[{font:["SimSun","SimHei","Microsoft-YaHei","KaiTi","FangSong","Arial","Times-New-Roman","sans-serif"]},{size:[]}],["bold","italic","underline","strike"],[{color:[]},{background:[]}],[{script:"super"},{script:"sub"}],[{header:"1"},{header:"2"},"blockquote","code-block"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],[{direction:"rtl"},{align:[]}],["link","image","video","formula"],["clean"]]}}),e.loading=!0,t.t0=JSON,t.next=12,u["a"].getStaticPage(e.id);case 12:return t.t1=t.sent.data,e.content=t.t0.stringify.call(t.t0,t.t1),e.quill.setContents(JSON.parse(e.content)),t.next=17,u["a"].getStaticPageDto(e.id);case 17:e.article=t.sent,e.loading=!1;case 19:case"end":return t.stop()}}),t)})))()},methods:{save:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.loading=!0,e.next=3,u["a"].updateEntry(JSON.stringify(this.quill.getContents()),this.id);case 3:this.loading=!1,this.$router.go(-1);case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},g=p,f=(r("c46f"),r("2877")),m=Object(f["a"])(g,n,a,!1,null,"e05add1c",null);t["default"]=m.exports},c46f:function(e,t,r){"use strict";var n=r("fd47"),a=r.n(n);a.a},fd47:function(e,t,r){}}]);
//# sourceMappingURL=chunk-b668fc80.50d84243.js.map